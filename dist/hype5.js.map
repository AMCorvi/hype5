{"version":3,"sources":["index.js","index.test.js"],"names":["top","limit","x","then","res","json","i","catch","console","log","error","latest","remixes","expect","require","hype5","describe","it","isAPromise","Promise","to","satisfy","data","be","an","err","contain","all","keys","not","any"],"mappings":"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","file":"hype5.js","sourcesContent":["import fetch from 'node-fetch'\n\n\nexport let top = (limit) => { \n    let x =  fetch('http://hypem.com/playlist/popular/3day/json/1/data.js')\n    .then( res => ( res.json() ) )\n    .then( ( json ) => {\n        if (limit && limit < 20){ \n            let res = {}\n            for(var i = 0; i <= (limit-1); i+=1 ){\n                res[`${ i }`] = json[`${ i }`]\n            }\n            return res\n        }\n        return json\n    })\n    .catch( error => console.log(error) )\n\n    return x\n} \n\n\nexport let latest = (limit) => { \n    let x =  fetch('http://hypem.com/playlist/latest/all/json/1/data.json')\n    .then( res => ( res.json() ) )\n    .then( ( json ) => {\n        if (limit && limit < 20){ \n            let res = {}\n            for(var i = 0; i <= (limit-1); i+=1 ){\n                res[`${ i }`] = json[`${ i }`]\n            }\n            return res\n        }\n        return json\n    })\n    .catch( error => console.log(error) )\n\n    return x\n} \n\nexport let remixes = (limit) => { \n    let x =  fetch('http://hypem.com/playlist/popular/remix/json/1/data.json')\n    .then( res => ( res.json() ) )\n    .then( ( json ) => {\n        if (limit && limit < 20){ \n            let res = {}\n            for(var i = 0; i <= (limit-1); i+=1 ){\n                res[`${ i }`] = json[`${ i }`]\n            }\n            return res\n        }\n        return json\n    })\n    .catch( error => console.log(error) )\n\n    return x\n} \n\n\n\n\n\n\n\n","var expect = require('chai').expect;\nvar hype5 = require('../src/index.js');\n\n\ndescribe(\"hype5\", ()=>{\n    describe(\" 'top' method \", ()=>{\n\n        it(\"'top' method should return promise\",()=>{\n\n            function isAPromise(res){\n                return res instanceof Promise\n            };\n\n            expect(hype5.top()).to.satisfy(isAPromise)\n        });\n\n        it(\" Promise should contain object\", ()=>{\n\n            hype5.top().then((data)=> {\n                expect(data).to.be.an('object')\n            })\n            .catch(err => console.log(err))\n        });\n\n        it(\" Promise data should contain certain properties\",()=>{\n            hype5.top().then(data=>{\n                expect(data[\"0\"]).to.contain.all.keys([\"artist\",\"title\", \"posturl\", \"thumb_url\"])\n            })\n            .catch(err => console.log(err))\n        });\n\n        it(\"should set response limit given parameter\", ()=>{\n\n            hype5.top(5).then((data)=>{\n                expect(data,\"should not contain index(or key) of or past 5\").to.not.contain.any.keys('5')\n                expect(data, \"should contain indices (or keys) of 0,1,2,3,4\").to.contain.any.keys('0','1','2','3','4')\n            })\n            .catch(err => console.log(err))\n\n        })\n    })\n})\n"]}